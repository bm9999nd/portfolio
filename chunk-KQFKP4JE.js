import{a as U}from"./chunk-74BTEOFY.js";import{n as q}from"./chunk-LYXANSDQ.js";import{$a as t,$b as N,Bb as D,Db as P,Eb as x,Ja as s,Ka as f,Nb as K,Wa as C,Ya as u,Z as T,Zb as R,_b as j,ab as n,bb as S,cb as k,db as O,ea as g,eb as y,ec as B,fa as h,fb as F,gb as _,gc as M,hb as A,hc as z,la as E,ob as b,pb as r,qb as V,rb as I,ub as w,wb as m,xb as G}from"./chunk-XSK66XXE.js";var Y=e=>({bool:e}),$=e=>({disabled:e}),H=e=>({name:"Bearer",value:e}),J=e=>({name:"Access Token",value:e}),L=e=>({name:"Expires",value:e}),Q=(e,o)=>({"bi-check text-success":e,"bi-x text-danger":o});function W(e,o){if(e&1&&(k(0),t(1,"li",22),r(2),n(),O()),e&2){let l=o.$implicit;s(2),I(" ",l," ")}}function X(e,o){if(e&1&&(t(0,"section",17)(1,"h2"),r(2,"Result :"),n(),t(3,"div"),y(4,9)(5,9)(6,9),D(7,"number"),t(8,"div",5)(9,"div",18),r(10," Scopes: "),n(),t(11,"ul"),C(12,W,3,1,"ng-container",19),n()()(),t(13,"div",20)(14,"a",21),r(15," Continue "),n()()()),e&2){let l=A(),i=b(30);s(4),u("ngTemplateOutlet",i)("ngTemplateOutletContext",m(12,H,l.token.token_type)),s(),u("ngTemplateOutlet",i)("ngTemplateOutletContext",m(14,J,l.token.access_token)),s(),u("ngTemplateOutlet",i)("ngTemplateOutletContext",m(16,L,P(7,8,l.token.expires_in,"1.0","id-ID")+" seconds")),s(6),u("ngForOf",l.token.scope)("ngForTrackBy",l.app.tracker)}}function Z(e,o){if(e&1&&(t(0,"div",5)(1,"div",18),r(2),n(),t(3,"div",23),r(4),n()()),e&2){let l=o.name,i=o.value;s(2),I("",l," :"),s(2),V(i)}}function ee(e,o){if(e&1&&S(0,"i",24),e&2){let l=o.bool;u("ngClass",G(1,Q,l,!l))}}var re=(()=>{let o=class o{constructor(i,d,a,p){this.el=i,this.app=d,this.gs=a,this.cd=p,this.auth={apiKey:"",clientId:"",useOauth:!1},this.plugin={gapi:!1,gis:!1}}ngOnInit(){this.onEvents()}onEvents(){this.gs.eventOnInit.subscribe(i=>{this.plugin.gapi=i.gapi,i.gis&&setTimeout(()=>{this.gs.signIn()},100),this.cd.detectChanges()}),this.gs.eventSignedIn.subscribe(i=>{this.plugin.gis=i.status,i.status&&(this.token=i.result),this.cd.detectChanges()})}onAuthorize(i){i.preventDefault(),this.gs.auth={apiKey:this.auth.apiKey,clientId:this.auth.clientId,storageName:"gtoken"}}};o.\u0275fac=function(d){return new(d||o)(f(E),f(q),f(U),f(K))},o.\u0275cmp=T({type:o,selectors:[["app-gsheets"]],standalone:!0,features:[w],decls:33,vars:12,consts:[["tokenResult",""],["check",""],[1,"container"],["href","https://console.cloud.google.com/apis/credentials","rel","noopener","target","_blank","title","Google Cloud APIS Credentials page"],[3,"submit","input"],[1,"mb-3"],["for","api"],[1,"hstack"],["type","text","name","api","id","api","title","API Key","required","","placeholder","Insert Google API Key...",1,"form-control",3,"input"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-check"],["type","checkbox","name","oauth2","id","oauth2","title","Enable OAuth2 Mode",1,"form-check-input",3,"input"],["for","oauth2",1,"form-check-label"],["type","text","name","clientid","id","clientid","title","Client ID","placeholder","Insert User Client ID...",1,"form-control",3,"input","ngClass"],[1,"justify-content-center","d-flex"],["type","submit","name","connect","id","connect",1,"btn","btn-primary"],["class","border rounded p-3 my-3 bg-body-secondary",4,"ngIf"],[1,"border","rounded","p-3","my-3","bg-body-secondary"],[1,"fw-medium"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-end"],["href","",1,"btn","btn-primary","disabled"],[1,"text-truncate"],[1,"ms-3","text-truncate"],[1,"bi",3,"ngClass"]],template:function(d,a){if(d&1){let p=F();t(0,"section",2)(1,"h1"),r(2,"API Authorization"),n(),t(3,"article")(4,"p"),r(5,"This section is to test the connection of your API key."),n(),t(6,"p"),r(7," You can create/select your API here : "),t(8,"a",3),r(9," Google Cloud APIS (Credentials) "),n()()(),t(10,"form",4),_("submit",function(c){return g(p),h(a.onAuthorize(c))})("input",function(){return g(p),h(a.token=void 0)}),t(11,"div",5)(12,"label",6),r(13,"API Key"),n(),t(14,"div",7)(15,"input",8),_("input",function(c){return g(p),h(a.auth.apiKey=a.app.navigator.inputValue(c,"string"))}),n(),y(16,9),n()(),t(17,"div",5)(18,"div",10)(19,"input",11),_("input",function(c){return g(p),h(a.auth.useOauth=a.app.navigator.inputValue(c,"bool"))}),n(),t(20,"label",12),r(21,"Client ID"),n()(),t(22,"div",7)(23,"input",13),_("input",function(c){return g(p),h(a.auth.clientId=a.app.navigator.inputValue(c,"string"))}),n(),y(24,9),n()(),t(25,"div",14)(26,"button",15),r(27," Connect "),n()()(),C(28,X,16,18,"section",16),n(),C(29,Z,5,2,"ng-template",null,0,x)(31,ee,1,4,"ng-template",null,1,x)}if(d&2){let p=b(32);s(16),u("ngTemplateOutlet",p)("ngTemplateOutletContext",m(6,Y,a.plugin.gapi)),s(7),u("ngClass",m(8,$,!a.auth.useOauth)),s(),u("ngTemplateOutlet",p)("ngTemplateOutletContext",m(10,Y,a.plugin.gis)),s(4),u("ngIf",a.token!=null)}},dependencies:[z,R,j,N,B,M]});let e=o;return e})();export{re as GsheetsComponent};
