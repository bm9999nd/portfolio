import{a as B}from"./chunk-DTJTL3FL.js";import{$b as C,Cb as b,Na as o,Sa as u,aa as f,db as m,eb as p,ha as d,mb as w,nb as v,nc as I,pa as c,qb as g,rb as y,sb as k,sc as E}from"./chunk-FTRD6JFR.js";var j=["content"],M=["*"],A=(()=>{let i=class i{constructor(e,t,n,s){this.document=e,this.nav=t,this.fn=n,this.zone=s,this.delay=500,this.fast=50,this.slow=180,this.showBlink=!0,this.isPreview=!1,this.onInserted=new c,this.onDone=new c,this.writed=0,this.values=[],this.css=[]}generate(){if(!this.nav.isBrowser)return;let e=this.content.nativeElement;this.elements=e.querySelectorAll("*:not(:has(*))"),this.elements.forEach(t=>{let n=t;this.values.push(n.textContent!=null?n.textContent:""),this.css.push(n.className),n.innerHTML="",n.className=""}),this.typingEffect(this.values[0],0)}typingEffect(e,t){let n=this.delay<500?500:this.delay,s=this.fast,T=this.slow,a=this.elements[t];a.className=this.css[t],this.setBlink(),setTimeout(()=>{let D=e.split(""),h=()=>{let l=D.shift(),N=this.fn.randomNumber(s,T);l!=null&&(a.innerHTML+=l),a.innerHTML==e?this.onInserted.emit(l):setTimeout(h,N)};h()},n)}setBlink(){this.elements.forEach((e,t)=>{e.classList.toggle("blink",this.showBlink&&t==this.writed)})}ngOnChanges(e){let t=e.showBlink;t&&!t.isFirstChange()&&this.setBlink()}ngOnInit(){this.onInserted.subscribe(()=>{this.writed+1<=this.values.length-1&&(this.writed++,this.typingEffect(this.values[this.writed],this.writed),this.writed==this.values.length-1&&this.onDone.emit())})}ngAfterViewInit(){this.isPreview||this.generate()}};i.\u0275fac=function(t){return new(t||i)(o(C),o(E),o(B),o(u))},i.\u0275cmp=f({type:i,selectors:[["api-typing-content"]],viewQuery:function(t,n){if(t&1&&g(j,5),t&2){let s;y(s=k())&&(n.content=s.first)}},inputs:{delay:"delay",fast:"fast",slow:"slow",showBlink:"showBlink",isPreview:"isPreview"},outputs:{onInserted:"onInserted",onDone:"onDone"},standalone:!0,features:[d,b],ngContentSelectors:M,decls:3,vars:0,consts:[["content",""]],template:function(t,n){t&1&&(w(),m(0,"div",null,0),v(2),p())},dependencies:[I],styles:[`.blink:after{content:"__";color:transparent;display:inline-block;animation:blink .5s alternate-reverse forwards infinite linear}@keyframes blink{0%{background-color:transparent}25%{background-color:#fff}75%{background-color:#fff}to{background-color:transparent}}
`],encapsulation:2});let r=i;return r})();export{A as a};
