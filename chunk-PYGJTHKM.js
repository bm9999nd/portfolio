import{b as Z}from"./chunk-TAHC4OSM.js";import{c as U}from"./chunk-5IC5DNT2.js";import{n as J}from"./chunk-LYXANSDQ.js";import{$a as l,Ab as L,Ja as a,Ka as S,La as P,Wa as W,Xa as w,Ya as m,Z as v,Za as I,Zb as Y,_b as $,ab as d,bb as p,cb as Q,db as B,dc as G,ea as f,eb as D,ec as K,fa as g,fb as k,ga as V,gb as h,hb as T,hc as M,kb as j,la as x,lb as R,ma as O,mb as y,mc as H,nb as C,pb as z,rb as q,tb as N,ub as _,wb as A,yb as E,zb as X}from"./chunk-XSK66XXE.js";var oe=["dot1"],re=["lineElement"],se=["dot2"],F=(r,o,u)=>({left:r,top:o,zIndex:u}),te=(()=>{let o=class o{constructor(){this.zIndex=1,this.dotRadius=10,this.dotMargin=2,this.lineWidth=this.dotRadius/2,this.color="white",this.start={x:0,y:0},this.end={x:this.start.x+100,y:this.start.y+100},this.onWork=!1}ngAfterViewInit(){this.drawStraight()}mouseMove(i,t){if(i.buttons===0)return this.drawStraight();let s=i.target.getBoundingClientRect().width/2;t.x=i.clientX-s,t.y=i.clientY-s,this.onWork=!0,this.drawStraight()}drawStraight(){let i=this.start,t=this.end,e=this.lineElement.nativeElement,n=[];[i,t].forEach((s,c)=>{let b=this.dotMargin/2;n.push({key:"x"+(c+1),value:s.x+b}),n.push({key:"y"+(c+1),value:s.y+b})}),n.push({key:"stroke-width",value:this.lineWidth}),n.push({key:"stroke",value:this.color}),n.forEach(s=>{e.querySelector("line").setAttribute(s.key,s.value)})}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=v({type:o,selectors:[["api-connector"]],viewQuery:function(t,e){if(t&1&&(R(oe,5),R(re,5),R(se,5)),t&2){let n;y(n=C())&&(e.dot1=n.first),y(n=C())&&(e.lineElement=n.first),y(n=C())&&(e.dot2=n.first)}},inputs:{zIndex:"zIndex",dotRadius:"dotRadius",dotMargin:"dotMargin",lineWidth:"lineWidth",color:"color"},standalone:!0,features:[_],decls:9,vars:36,consts:[["dot1",""],["lineElement",""],[1,"position-absolute",3,"mousedown","mousemove"],[1,"position-absolute"]],template:function(t,e){if(t&1){let n=k();V(),l(0,"svg",2,0),h("mousedown",function(c){return f(n),g(e.mouseMove(c,e.start))})("mousemove",function(c){return f(n),g(e.mouseMove(c,e.start))}),p(2,"circle"),d(),l(3,"svg",2,0),h("mousedown",function(c){return f(n),g(e.mouseMove(c,e.end))})("mousemove",function(c){return f(n),g(e.mouseMove(c,e.end))}),p(5,"circle"),d(),l(6,"svg",3,1),p(8,"line"),d()}t&2&&(I(E(24,F,e.start.x+"px",e.start.y+"px",e.onWork?e.zIndex+100:e.zIndex)),w("width",e.dotRadius*2+e.dotMargin*2)("height",e.dotRadius*2+e.dotMargin*2),a(2),w("cx",e.dotRadius+e.dotMargin)("cy",e.dotRadius+e.dotMargin)("r",e.dotRadius)("stroke",e.color)("stroke-width",0)("fill",e.color),a(),I(E(28,F,e.end.x+"px",e.end.y+"px",e.onWork?e.zIndex+100:e.zIndex)),w("width",e.dotRadius*2+e.dotMargin*2)("height",e.dotRadius*2+e.dotMargin*2),a(2),w("cx",e.dotRadius+e.dotMargin)("cy",e.dotRadius+e.dotMargin)("r",e.dotRadius)("stroke",e.color)("stroke-width",0)("fill",e.color),a(),I(E(32,F,e.dotRadius+e.dotMargin/2+"px",e.dotRadius+e.dotMargin/2+"px",e.onWork?e.zIndex+99:e.zIndex-1)),w("width",e.start.x+e.end.x)("height",e.start.y+e.end.y))},dependencies:[M],styles:[".position-absolute[_ngcontent-%COMP%]{position:absolute}.position-absolute[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]});let r=o;return r})();var ae=(r,o,u,i,t)=>({"active-1":r,"active-2":o,"active-3":u,"active-4":i,"active-5":t}),le=(r,o,u,i)=>({width:r,height:o,zIndex:u,translate:i}),de=r=>({$implicit:r});function ce(r,o){if(r&1){let u=k();Q(0),l(1,"div",3),h("click",function(){let t=f(u).index,e=T();return g(e.setImageIndex(t))}),D(2,4),d(),B()}if(r&2){let u=o.$implicit,i=o.index,t=T();a(),m("ngClass",L(4,ae,i==t.view,t.offsetPos(i)==1,t.offsetPos(i)==2,t.offsetPos(i)==3,t.offsetPos(i)>3))("ngStyle",X(10,le,t.getSize(t.cardSize,i)+"px",t.getSize(t.cardSize,i)+"px",t.items.length-t.offsetPos(i),"calc("+t.setTranslateX(i)+"px) 0 0")),a(),m("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",A(15,de,u))}}var ie=(()=>{let o=class o{constructor(i,t){this.nav=i,this.el=t,this.items=[],this.cardSize=300,this.idleMs=3e3,this.limitless=!0,this.indexChange=new O,this.view=0}resetInterval(i){this.nav.isBrowser&&(this.interv&&(clearInterval(this.interv),!i)||(this.interv=setInterval(()=>{this.continueImg("next")},this.idleMs)))}offsetPos(i){let t=this.view;return Math.abs(t-i)}setTranslateX(i){let t=i>this.view?-1:1,e=this.cardSize/5,n=this.offsetPos(i);return e*n*t}getSize(i,t){let e=this.items.length/3/100,n=Math.abs(i-this.offsetPos(t)*i*e);return n>i&&(n=i),n}onWheel(i){i.preventDefault();let t=i.deltaY<0?"prev":"next",e=this.el.nativeElement.children[0];e.scrollLeft+=this.cardSize*(t=="prev"?-1:1)}setScroll(){let i=this.el.nativeElement.children[0],t=i.clientWidth,n=i.children[0].querySelector(".active-1");if(n===null)return;let s=n.getBoundingClientRect(),c=i.scrollLeft,b=t/2,ne=c-b+s.left;i.scroll({left:ne,behavior:"smooth"})}continueImg(i){let t=this.items.length-1,e=this.view;e=e+(i=="prev"?-1:1),e<0?e=this.limitless?t:0:e>t&&(e=this.limitless?0:t),this.setImageIndex(e)}setImageIndex(i){this.view=i,this.resetInterval(!0),this.indexChange.emit(this.view),setTimeout(()=>{this.setScroll()},100)}tracker(i,t){return t}ngAfterViewInit(){this.resetInterval(!0)}};o.\u0275fac=function(t){return new(t||o)(S(H),S(x))},o.\u0275cmp=v({type:o,selectors:[["api-cardswipe"]],contentQueries:function(t,e,n){if(t&1&&j(n,P,5),t&2){let s;y(s=C())&&(e.templateRef=s.first)}},inputs:{items:"items",cardSize:"cardSize",idleMs:"idleMs",limitless:"limitless"},outputs:{indexChange:"indexChange"},standalone:!0,features:[_],decls:3,vars:2,consts:[[1,"position-relative","w-100","overflow-hidden"],[1,"d-flex","justify-content-start","align-items-center",3,"wheel"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"item-container",3,"click","ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){t&1&&(l(0,"div",0)(1,"div",1),h("wheel",function(s){return e.onWheel(s)}),W(2,ce,3,17,"ng-container",2),d()()),t&2&&(a(2),m("ngForOf",e.items)("ngForTrackBy",e.tracker))},dependencies:[M,Y,$,K,G],styles:[`.item-container{background-color:#000}.item-container img{filter:drop-shadow(0px 2px 6px hsla(0,0%,0%,.5))}.item-container :nth-child(2){display:none!important}.active-1{animation-name:act1;animation-duration:1s;animation-timing-function:ease-in-out;animation-fill-mode:forwards;animation-direction:normal}.active-2 img{filter:blur(.5px) brightness(.5)}.active-3 img{filter:blur(1px) brightness(.4)}.active-4 img{filter:blur(1.5px) brightness(.3)}.active-5{filter:blur(2px) brightness(.2)}@keyframes act1{0%{opacity:1}10%{rotate:-1.5deg}20%{rotate:1.5deg}30%{rotate:-1deg}40%{rotate:1deg}50%{rotate:-.5deg}60%{rotate:.5deg}to{rotate:0deg}}
`],encapsulation:2});let r=o;return r})();var Te=(()=>{let o=class o{constructor(i){this.app=i,this.bounce=!1,this.cards=[{img:"",title:"1"},{img:"",title:"2"},{img:"",title:"3"},{img:"",title:"4"},{img:"",title:"5"},{img:"",title:"6"},{img:"",title:"7"},{img:"",title:"8"},{img:"",title:"9"},{img:"",title:"10"}]}};o.\u0275fac=function(t){return new(t||o)(S(J))},o.\u0275cmp=v({type:o,selectors:[["app-test"]],standalone:!0,features:[N([]),_],decls:13,vars:7,consts:[[3,"hidden"],[1,"w-50","h-50","bg-primary"],[3,"items"],[1,"w-100","h-100",3,"hidden"],[1,"text-center"],["type","button",3,"click"],[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"w-25","h-25","text-bg-warning","d-flex","justify-content-center","align-items-center"]],template:function(t,e){t&1&&(l(0,"div",0),p(1,"div",1),d(),l(2,"div",0),p(3,"api-cardswipe",2),d(),l(4,"div",0),p(5,"api-connector"),d(),l(6,"div",3)(7,"div",4)(8,"button",5),h("click",function(){return e.bounce=!e.bounce}),z(9),d()(),l(10,"div",6)(11,"div",7),z(12," BLOCK "),d()()()),t&2&&(m("hidden",!1),a(2),m("hidden",!0),a(),m("items",e.cards),a(),m("hidden",!0),a(2),m("hidden",!0),a(3),q(" Bounce is ",e.bounce," "),a(2),m("@bounce",e.bounce))},dependencies:[M,te,ie],data:{animation:[U("bounce",Z(1e3,"left",30))]}});let r=o;return r})();export{Te as TestComponent};
