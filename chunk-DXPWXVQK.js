import{a as B}from"./chunk-DTJTL3FL.js";import{$b as I,Cb as C,Na as o,Sa as u,aa as d,db as m,eb as p,ha as f,mb as w,nb as v,nc as b,pa as c,qb as g,rb as y,sb as k,sc as E}from"./chunk-FTRD6JFR.js";var j=["content"],M=["*"],A=(()=>{let n=class n{constructor(e,t,i,s){this.document=e,this.nav=t,this.fn=i,this.zone=s,this.delay=500,this.fast=50,this.slow=180,this.showBlink=!0,this.isPreview=!1,this.onInserted=new c,this.onDone=new c,this.writed=0,this.values=[],this.css=[]}generate(){if(!this.nav.isBrowser)return;let e=this.content.nativeElement;this.elements=e.querySelectorAll("*:not(:has(*))"),this.elements.forEach(t=>{let i=t;this.values.push(i.textContent!=null?i.textContent:""),this.css.push(i.className),i.innerHTML="",i.className=""}),this.typingEffect(this.values[0],0)}typingEffect(e,t){let i=this.delay<500?500:this.delay,s=this.fast,T=this.slow,l=this.elements[t];l.className=this.css[t],this.setBlink(),setTimeout(()=>{let D=e.split(""),h=()=>{let a=D.shift(),N=this.fn.randomNumber(s,T);a!=null&&(l.innerHTML+=a),l.innerHTML==e?this.onInserted.emit(a):setTimeout(h,N)};h()},i)}setBlink(){this.elements.forEach((e,t)=>{e.classList.toggle("blink",this.showBlink&&t==this.writed)})}ngOnChanges(e){let t=e.showBlink;t&&!t.isFirstChange()&&this.setBlink()}ngOnInit(){this.onInserted.subscribe(()=>{this.writed+1<=this.values.length-1&&(this.writed++,this.typingEffect(this.values[this.writed],this.writed),this.writed==this.values.length-1&&this.onDone.emit())})}ngAfterViewInit(){this.isPreview||this.generate()}};n.\u0275fac=function(t){return new(t||n)(o(I),o(E),o(B),o(u))},n.\u0275cmp=d({type:n,selectors:[["api-typing-content"]],viewQuery:function(t,i){if(t&1&&g(j,5),t&2){let s;y(s=k())&&(i.content=s.first)}},inputs:{delay:"delay",fast:"fast",slow:"slow",showBlink:"showBlink",isPreview:"isPreview"},outputs:{onInserted:"onInserted",onDone:"onDone"},standalone:!0,features:[f,C],ngContentSelectors:M,decls:3,vars:0,consts:[["content",""]],template:function(t,i){t&1&&(w(),m(0,"div",null,0),v(2),p())},dependencies:[b],styles:[`.blink:after{content:"__";color:transparent;display:inline-block;animation:blink .5s alternate-reverse forwards infinite linear}@keyframes blink{0%,to{background-color:transparent}25%,75%{background-color:#ccc}}
`],encapsulation:2});let r=n;return r})();export{A as a};
